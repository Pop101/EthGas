$(document).ready((function(){const a={type:"line",data:{labels:[],datasets:[{label:"Low",backgroundColor:"rgb(255, 99, 132)",borderColor:"rgb(255, 99, 132)",data:[],fill:!1},{label:"Mid",backgroundColor:"rgb(132, 99, 255)",borderColor:"rgb(132, 99, 255)",data:[],fill:!1},{label:"High",backgroundColor:"rgb(99, 132, 255)",borderColor:"rgb(99, 132, 255)",data:[],fill:!1}]},options:{responsive:!0,maintainAspectRatio:!1,title:{display:!0,text:"Historical Gas Costs"},tooltips:{mode:"index",intersect:!1},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Block"}}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:"GWEI"}}]}}},t=document.getElementById("canvas").getContext("2d"),e=new Chart(t,a);new EventSource("/datastream").onmessage=function(t){const l=JSON.parse(t.data);if(a.data.labels[a.data.labels.length-1]!==l.block){if(a.data.labels.length>0&&a.data.datasets[0].data.length>0){const t=a.data.labels[a.data.labels.length-1],e=l.block-t;for(var o=0;o<e;o++)a.data.labels.push(t+o);console.log("Pushing "+e+" from "+t+" to "+l.block);const d=[l.low,l.avg,l.high];for(o=0;o<3;o++){const t=a.data.datasets[o].data[a.data.datasets[o].data.length-1];for(var s=1;s<e;s++){const l=s*(d[o]-t)/e;a.data.datasets[o].data.push(Math.round(t+l)),console.log("Interpolating step "+s+" of "+e+". At "+(t+l)+" Delta "+l+" from "+t+" to "+d[o])}a.data.datasets[o].data.push(Math.round(d[o])),console.log("Final: "+d[o])}}else{console.log("Skip Interpolation"),a.data.labels.push(l.block);const t=[l.low,l.avg,l.high];for(o=0;o<3;o++)a.data.datasets[o].data.push(Math.round(t[o]))}for(;a.data.labels.length>=60;){a.data.labels.shift();for(o=0;o<3;o++)a.data.datasets[o].data.shift()}e.update()}}}));